## Коллекция старого программного обеспечения НИНРИ версии 1

Опубликован больше в исторических целях, для понимания объёма выполенной работы, код написан в период изучения JS и ООП в целом. Не рекомендуется использовать нигде. 

Никакой поддержки не гарантируется, не планируется. Весь код, принадлежащий третьим лицам, обозначен заголовком в файлах, весь остальной за моим авторством.

Для работы нужны: Unix система, nodejs, php, mysql.
В последний раз работоспобность проверена на:
- node: v11.15.0;
- php: 7.0; 
- Discord.js: discord.js@12.0.0-dev (git+https://github.com/discordjs/discord.js.git#97de79bd5e34ab043a75db1f4fdb738bd20f21c3).

Заменить нужные данные по ключевому слову "заменить" в файлах.

##### Активное содержимое crontab:
```
30 20 * * * cd /home/xonrdbotv3 && /usr/bin/node emptyrole.js
*/5 * * * * cd /home/php/htdocs/sworkparse && /usr/bin/php -f getimage.php
0 5 * * * pm2 restart all
```

- **php** — запускается из под крона (каждые n минут), выполняет замену шапок в группах ВК;
- **d.xonr.ru** — сайт с расширенным выводом статистики по Discord серверу, нерабочий старый функционал по сортировке модификаций мастерской TTS, заброшено в связи с тем, что изначальных подход был неправильным, нужно привлечь пользователей публиковать модификации на ресурсе, а не пытаться сортировать уже опубликованные. Базы данных: discordxonrbotstructure.sql, dxonrusersite.sql;
- **cup.xonr.ru** — сайт, созданный для информационный странички о предстоящих турнирах, использован для турнира по настольной игре "Покорение Марса", более неактивен. База данных - cupxonruser.sql;
- **ga.xonr.ru** — сайт, пользовательская оболочка для получения случайных победителей на основе данных биткоин сети, серверная часть утерена, база данных утерена, заброшено в связи с реализацией оффлайн версии на C#, которая была утерена;
- **ttsmtgdeck.xonr.ru** — сайт, генератор колод MTG для Tabletop Simulator, указывается список карт, количество, сет, поддерживает разные форматы. Не требует базы данных;
#### **xonrdbotv3** — дискорд боты: (базы данных: discordxonrbotstructure.sql, dxonrusersite.sql)

-- **emojibot** — ранняя реализация бота для упрощения административных задач, здесь присутствует только функционал управления эмодзи;

-- **botdata.json, botemojisdata.json, botemojisdata2.json** — файлы дампа для определения и замены ролей, прописанных в ботах;

-- **bot_partnerv2.js** — отслеживание переходов пользователей по приглашениям, составление списка пользователей в базе, **необходим для работы остальных ботов**;

-- **bot_roleplayv2** — бот настольного ролевого раздела;

-- **botv2.js** — бот комнат;

-- **cleaner.js** — чистильщик сообщений, включает некоторый дополнительный функционал для партнёрских серверов;

-- **emptyrole.js** — рассылка по крону сообщений пользователям без ролей на сервере;

-- **nirolegive.js** — старая рассылка, не используется;

-- **nnigiveawayfeed.js** — уведомления в текстовый канал о раздачах игр, основан на информации с https://isthereanydeal.com;

-- **platimarket.js** — блок с обновляемой информацией партнёрских предложений компьютерных игр;

-- **rolesmanager.js** — управление ролями, самый простой бот из всех;

-- **tester.js** — шаблон быстрого тестирования при создании концептов;

-- **trackingsteamusers.js** — недописанный концепт бота с дампом игровых модификаций Tabletop Simulator в текстовый канал, причины схоже с d.xonr.ru, сформирована другая идея, заменяющая эти 2 ресурса.

[Дискорд сервер НИНРИ](https://discord.gg/QrqBWE6) — крупнейший русскоязычный Discord сервер про настольные игры, всегда можно найти себе компанию для партий.

License
----
MIT
